!function(e){e(".tools_page_advanced-cron-manager").on("click",".logs-accordion .toggle",function(a){a.preventDefault();var n=e(this);n.next().hasClass("show")?(n.next().removeClass("show"),n.next().hide()):(n.parent().parent().find("li .inner").removeClass("show"),n.parent().parent().find("li .inner").hide(),n.next().toggleClass("show"),n.next().toggle())})}(jQuery),function(e,a){"$:nomunge";var n,t=e.jQuery||e.Cowboy||(e.Cowboy={});t.throttle=n=function(e,n,c,o){function r(){function t(){d=+new Date,c.apply(i,u)}function r(){s=a}var i=this,l=+new Date-d,u=arguments;o&&!s&&t(),s&&clearTimeout(s),o===a&&l>e?t():!0!==n&&(s=setTimeout(o?r:t,o===a?e-l:e))}var s,d=0;return"boolean"!=typeof n&&(o=c,c=n,n=a),t.guid&&(r.guid=c.guid=c.guid||t.guid++),r},t.debounce=function(e,t,c){return c===a?n(e,t,!1):n(e,c,!1!==t)}}(this),function(e){e("#license-form").on("submit",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.license.action",e(this))}),wp.hooks.addAction("advanced-cron-manager.license.action","bracketspace/acm/license-action",function(a){var n=a.find(".button-secondary").first(),t={action:"acm/license/"+n.data("action"),license:a.find(".license-key").val(),nonce:n.data("nonce")},c=n.val();n.val(advanced_cron_manager_pro.i18n.saving),n.attr("disabled",!0),e.post(ajaxurl,t,function(e){advanced_cron_manager.ajax_messages(e),1==e.success?("activate"==n.data("action")?(a.parent().find(".status").removeClass().addClass("status").text(advanced_cron_manager_pro.i18n.activated),n.val(advanced_cron_manager_pro.i18n.activated)):(a.parent().find(".status").removeClass().addClass("status").text(advanced_cron_manager_pro.i18n.deactivated),n.val(advanced_cron_manager_pro.i18n.deactivated)),setTimeout(function(){location.reload()},2e3)):(n.val(c),n.attr("disabled",!1))})})}(jQuery),function(e){e(".tools_page_advanced-cron-manager").on("click",".load-more-logs",function(a){a.preventDefault();var n=e(this),t=n.data("total"),c=n.data("page"),o=n.data("event"),r=n.prev();n.attr("disabled",!0);var s=n.text();n.text(advanced_cron_manager_pro.i18n.loading);var d={action:"acm/logs/load_more",event:o,page:c+1};e.post(ajaxurl,d,function(e){e.success&&r.append(e.data),r.find("> li").length>=t?n.remove():(n.data("page",c+1),n.attr("disabled",!1),n.text(s))})})}(jQuery),function(e){e("#log-settings-form").on("submit",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.logs.settings.action",e(this))}),wp.hooks.addAction("advanced-cron-manager.logs.settings.action","bracketspace/acm/logs-settings-action",function(a){var n=a.find(".button-secondary").first(),t={action:"acm/logs/settings/save",data:a.serialize(),nonce:n.data("nonce")},c=n.val();n.val(advanced_cron_manager_pro.i18n.saving),n.attr("disabled",!0),e.post(ajaxurl,t,function(e){advanced_cron_manager.ajax_messages(e),n.val(c),n.attr("disabled",!1)})}),e("#log-settings-form").on("change",".master-setting input",function(){this.checked?e(this).parent().nextAll(".dependants").show():e(this).parent().nextAll(".dependants").hide()})}(jQuery),function(e){wp.hooks.addAction("advanced-cron-manager.event.executed","bracketspace/acm/event-executed",function(a,n){var t={action:"acm/logs/refresh",event:a};e.post(ajaxurl,t,function(e){if(1==e.success){var a=n.find(".details .content.logs .logs-accordion");a.length?a.replaceWith(e.data):n.find(".details .content.logs").html(e.data)}})}),wp.hooks.addAction("advanced-cron-manager.event.executed","bracketspace/acm/event-executed",function(a,n){var t=e("#logs-section");if(0==t.length)return!1;var c={action:"acm/logs/refresh",event:null};e.post(ajaxurl,c,function(e){1==e.success&&t.find(".tile-content").html(e.data)})})}(jQuery),function(e){e(".tools_page_advanced-cron-manager").on("click",".event .reschedule-event",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.event.reschedule",e(this))}),e(".slidebar").on("submit",".event-reschedule",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.event.reschedule.process",e(this))}),wp.hooks.addAction("advanced-cron-manager.event.reschedule","bracketspace/acm/event-reschedule",function(a){advanced_cron_manager.slidebar.open(),advanced_cron_manager.slidebar.wait();var n={action:"acm/event/reschedule/form",nonce:a.data("nonce"),event_hash:a.data("event")};e.post(ajaxurl,n,function(e){advanced_cron_manager.slidebar.fulfill(e.data)})}),wp.hooks.addAction("advanced-cron-manager.event.reschedule.process","bracketspace/acm/event-reschedule-process",function(a){advanced_cron_manager.slidebar.form_process_start();var n={action:"acm/event/reschedule",nonce:a.find("#nonce").val(),data:a.serialize()};e.post(ajaxurl,n,function(e){advanced_cron_manager.ajax_messages(e),1==e.success?wp.hooks.doAction("advanced-cron-manager.event.rescheduled",a.find("#event-hook").val()):advanced_cron_manager.slidebar.form_process_stop()})});var a=function(){e("#events").addClass("loading"),e.post(ajaxurl,{action:"acm/rerender/events"},function(a){e("#events").replaceWith(a.data),advanced_cron_manager.slidebar.form_process_stop(),advanced_cron_manager.slidebar.close()})};wp.hooks.addAction("advanced-cron-manager.event.rescheduled","bracketspace/acm/event-rescheduled",a),wp.hooks.addAction("advanced-cron-manager.event.reschedule.process","bracketspace/acm/event-reschedule-process",function(e){e.find("#event-offset").val((new Date).getTimezoneOffset()/60)},5)}(jQuery),function(e){wp.hooks.addAction("advanced-cron-manager.slidebar.fulfilled","bracketspace/acm/schedule/fulfilled",function(a){e("#acm-schedule-form-tabs a").click(function(a){a.preventDefault();var n=e(this).closest("#acm-schedule-form-tabs").parent();e("#acm-schedule-form-tabs a",n).removeClass("nav-tab-active"),e(this).addClass("nav-tab-active"),e(".schedule-form-tab",n).hide(),e(e(this).attr("href"),n).show()});var n=wp.codeEditor.initialize(e("#schedule-schyntax"),advanced_cron_manager.schyntax_editor);e("a.generate-shyntax").click(function(a){a.preventDefault(),e(".schyntax-generator").slideDown(),e(this).slideUp()}),e(".schyntax-generator button").click(function(a){a.preventDefault();var t=e(this),c=e(".schyntax-generator .spinner");t.prop("disabled",!0),c.css("visibility","visible");var o={license:advanced_cron_manager_pro.license_key,domain:advanced_cron_manager_pro.domain,schedule:e("#schedule-schyntax-prompt").val()};e.get("https://acm-schedule.bracketspace.workers.dev/",o,function(e){n.codemirror.setValue(e)}).fail(function(e){switch(e.status){case 400:advanced_cron_manager.notify(advanced_cron_manager_pro.i18n.schyntax.status_400,"warning");break;case 401:advanced_cron_manager.notify(advanced_cron_manager_pro.i18n.schyntax.status_401,"warning");break;case 429:advanced_cron_manager.notify(advanced_cron_manager_pro.i18n.schyntax.status_429,"warning");break;default:advanced_cron_manager.notify(advanced_cron_manager_pro.i18n.error,"warning")}}).always(function(){t.prop("disabled",!1),c.css("visibility","hidden")})}),setTimeout(function(){n.codemirror.setValue(n.codemirror.getValue())},100),n.codemirror.on("change",e.debounce(1e3,function(a,n){var t=e(".schedule-next-occurences"),c=e(".schedule-next-occurences .result"),o=e(".schedule-next-occurences .spinner"),r=e(".schedule-next-occurences .occurences-list"),s={license:advanced_cron_manager_pro.license_key,domain:advanced_cron_manager_pro.domain,schedule:a.getValue(),n:10};r.text("").hide(),t.show(),o.css("visibility","visible"),e.get("https://acm-schyntax.bracketspace.workers.dev/",s,function(a){r.show(),c.hide(),e("#schedule-add-schyntax-button").prop("disabled",!1);var n=new Intl.DateTimeFormat(void 0,{dateStyle:"short",timeStyle:"medium",timeZone:"UTC"});e.each(a,function(t){e("<li>").text(n.format(new Date(a[t]))).appendTo(r)})}).fail(function(a){switch(e("#schedule-add-schyntax-button").prop("disabled",!0),a.status){case 400:c.text(advanced_cron_manager_pro.i18n.schedule.status_400).show();break;case 401:advanced_cron_manager.notify(advanced_cron_manager_pro.i18n.schedule.status_401,"warning");break;case 429:advanced_cron_manager.notify(advanced_cron_manager_pro.i18n.schedule.status_429,"warning");break;default:advanced_cron_manager.notify(advanced_cron_manager_pro.i18n.error,"warning")}}).always(function(){o.css("visibility","hidden")})}))})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGlvbi5qcyIsImpxdWVyeS10aHJvdHRsZS1kZWJvdW5jZS1wbHVnaW4uanMiLCJsaWNlbnNlLmpzIiwibG9hZC1tb3JlLWxvZ3MuanMiLCJsb2dzLXNldHRpbmdzLmpzIiwicmVmcmVzaC1sb2dzLmpzIiwicmVzY2hlZHVsZS1ldmVudC5qcyIsInNjaGVkdWxlci5qcyJdLCJuYW1lcyI6WyIkIiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiJHRoaXMiLCJ0aGlzIiwibmV4dCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJoaWRlIiwicGFyZW50IiwiZmluZCIsInRvZ2dsZUNsYXNzIiwidG9nZ2xlIiwialF1ZXJ5Iiwid2luZG93IiwidW5kZWZpbmVkIiwianFfdGhyb3R0bGUiLCJDb3dib3kiLCJ0aHJvdHRsZSIsImRlbGF5Iiwibm9fdHJhaWxpbmciLCJjYWxsYmFjayIsImRlYm91bmNlX21vZGUiLCJ3cmFwcGVyIiwiZXhlYyIsImxhc3RfZXhlYyIsIkRhdGUiLCJhcHBseSIsInRoYXQiLCJhcmdzIiwiY2xlYXIiLCJ0aW1lb3V0X2lkIiwiZWxhcHNlZCIsImFyZ3VtZW50cyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJndWlkIiwiZGVib3VuY2UiLCJhdF9iZWdpbiIsIndwIiwiaG9va3MiLCJkb0FjdGlvbiIsImFkZEFjdGlvbiIsIiRmb3JtIiwiJGJ1dHRvbiIsImZpcnN0IiwiZGF0YSIsImFjdGlvbiIsImxpY2Vuc2UiLCJ2YWwiLCJub25jZSIsImJ1dHRvbl9sYWJlbCIsImFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8iLCJpMThuIiwic2F2aW5nIiwiYXR0ciIsInBvc3QiLCJhamF4dXJsIiwicmVzcG9uc2UiLCJhZHZhbmNlZF9jcm9uX21hbmFnZXIiLCJhamF4X21lc3NhZ2VzIiwic3VjY2VzcyIsImFkZENsYXNzIiwidGV4dCIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwibG9jYXRpb24iLCJyZWxvYWQiLCJ0b3RhbCIsInBhZ2UiLCJldmVudF9oYXNoIiwiJGNvbnRhaW5lciIsInByZXYiLCJvbGRfbGFiZWwiLCJsb2FkaW5nIiwiYXBwZW5kIiwibGVuZ3RoIiwicmVtb3ZlIiwic2VyaWFsaXplIiwiY2hlY2tlZCIsIm5leHRBbGwiLCJzaG93IiwiJGV2ZW50X3JvdyIsIiRhY2NvcmRpb24iLCJyZXBsYWNlV2l0aCIsImh0bWwiLCIkbG9nc19zZWN0aW9uIiwic2xpZGViYXIiLCJvcGVuIiwid2FpdCIsImZ1bGZpbGwiLCJmb3JtX3Byb2Nlc3Nfc3RhcnQiLCJmb3JtX3Byb2Nlc3Nfc3RvcCIsImV2ZW50c190YWJsZV9yZXJlbmRlciIsImNsb3NlIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJjbGljayIsImNvbnRleHQiLCJjbG9zZXN0IiwiZWRpdG9yIiwiY29kZUVkaXRvciIsImluaXRpYWxpemUiLCJzY2h5bnRheF9lZGl0b3IiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiJHNwaW5uZXIiLCJwcm9wIiwiY3NzIiwibGljZW5zZV9rZXkiLCJkb21haW4iLCJzY2hlZHVsZSIsImdldCIsImNvZGVtaXJyb3IiLCJzZXRWYWx1ZSIsImZhaWwiLCJ4aHIiLCJzdGF0dXMiLCJub3RpZnkiLCJzY2h5bnRheCIsInN0YXR1c180MDAiLCJzdGF0dXNfNDAxIiwic3RhdHVzXzQyOSIsImVycm9yIiwiYWx3YXlzIiwiZ2V0VmFsdWUiLCJjb250ZW50IiwiJG5leHRfb2NjdXJlbmNlcyIsIiRyZXN1bHQiLCIkbGlzdCIsIm4iLCJmb3JtYXR0ZXIiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJkYXRlU3R5bGUiLCJ0aW1lU3R5bGUiLCJ0aW1lWm9uZSIsImVhY2giLCJpIiwiZm9ybWF0IiwiYXBwZW5kVG8iXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEdBRUFBLEVBQUEscUNBQUFDLEdBQUEsUUFBQSwwQkFBQSxTQUFBQyxHQUVBQSxFQUFBQyxnQkFFQSxJQUFBQyxHQUFBSixFQUFBSyxLQUVBRCxHQUFBRSxPQUFBQyxT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LEVBQUF5QixXQUNBSyxFQUFBLEdBR0FELEdBQUFqRSxLQUFBLElBQUF2RCxPQUNBc0gsRUFBQTdDLE9BQ0F3QixFQUFBRSxJQUFBLGFBQUEsV0FFQTVHLEVBQUFnSCxJQUFBLGlEQUFBakUsRUFBQSxTQUFBWSxHQUNBc0UsRUFBQS9DLE9BQ0E4QyxFQUFBdkgsT0FDQVQsRUFBQSxpQ0FBQTJHLEtBQUEsWUFBQSxFQUVBLElBQUF3QixHQUFBLEdBQUFDLE1BQUFDLG1CQUFBckgsSUFDQXNILFVBQUEsUUFDQUMsVUFBQSxTQUNBQyxTQUFBLE9BR0F4SSxHQUFBeUksS0FBQTlFLEVBQUEsU0FBQStFLEdBQ0ExSSxFQUFBLFFBQUFnRSxLQUFBbUUsRUFBQVEsT0FBQSxHQUFBaEgsTUFBQWdDLEVBQUErRSxNQUFBRSxTQUFBWCxPQUVBZCxLQUFBLFNBQUFDLEdBRUEsT0FEQXBILEVBQUEsaUNBQUEyRyxLQUFBLFlBQUEsR0FDQVMsRUFBQUMsUUFDQSxJQUFBLEtBQ0FXLEVBQUFoRSxLQUFBWCwwQkFBQUMsS0FBQXlELFNBQUFTLFlBQUF0QyxNQUNBLE1BQ0EsS0FBQSxLQUNBdEIsc0JBQUEwRCxPQUFBakUsMEJBQUFDLEtBQUF5RCxTQUFBVSxXQUFBLFVBQ0EsTUFDQSxLQUFBLEtBQ0E3RCxzQkFBQTBELE9BQUFqRSwwQkFBQUMsS0FBQXlELFNBQUFXLFdBQUEsVUFDQSxNQUNBLFNBQ0E5RCxzQkFBQTBELE9BQUFqRSwwQkFBQUMsS0FBQXFFLE1BQUEsY0FFQUMsT0FBQSxXQUNBbEIsRUFBQUUsSUFBQSxhQUFBLGtCQU1BOUYiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdCQoICcudG9vbHNfcGFnZV9hZHZhbmNlZC1jcm9uLW1hbmFnZXInICkub24oICdjbGljaycsICcubG9ncy1hY2NvcmRpb24gLnRvZ2dsZScsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG5cdFx0aWYgKCAkdGhpcy5uZXh0KCkuaGFzQ2xhc3MoICdzaG93JyApICkge1xuXG5cdFx0XHQkdGhpcy5uZXh0KCkucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xuXHRcdFx0JHRoaXMubmV4dCgpLmhpZGUoKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdCR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoICdsaSAuaW5uZXInICkucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xuXHRcdFx0JHRoaXMucGFyZW50KCkucGFyZW50KCkuZmluZCggJ2xpIC5pbm5lcicgKS5oaWRlKCk7XG5cdFx0XHQkdGhpcy5uZXh0KCkudG9nZ2xlQ2xhc3MoICdzaG93JyApO1xuXHRcdFx0JHRoaXMubmV4dCgpLnRvZ2dsZSgpO1xuXG5cdFx0fVxuXG5cdH0pO1xuXG59ICkoIGpRdWVyeSApO1xuIiwiLyohXG4gKiBqUXVlcnkgdGhyb3R0bGUgLyBkZWJvdW5jZSAtIHYxLjEgLSAzLzcvMjAxMFxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UtcGx1Z2luL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMCBcIkNvd2JveVwiIEJlbiBBbG1hblxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4gKiBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4gKi9cblxuLy8gU2NyaXB0OiBqUXVlcnkgdGhyb3R0bGUgLyBkZWJvdW5jZTogU29tZXRpbWVzLCBsZXNzIGlzIG1vcmUhXG4vL1xuLy8gKlZlcnNpb246IDEuMSwgTGFzdCB1cGRhdGVkOiAzLzcvMjAxMCpcbi8vXG4vLyBQcm9qZWN0IEhvbWUgLSBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS10aHJvdHRsZS1kZWJvdW5jZS1wbHVnaW4vXG4vLyBHaXRIdWIgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LXRocm90dGxlLWRlYm91bmNlL1xuLy8gU291cmNlICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS10aHJvdHRsZS1kZWJvdW5jZS9yYXcvbWFzdGVyL2pxdWVyeS5iYS10aHJvdHRsZS1kZWJvdW5jZS5qc1xuLy8gKE1pbmlmaWVkKSAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS10aHJvdHRsZS1kZWJvdW5jZS9yYXcvbWFzdGVyL2pxdWVyeS5iYS10aHJvdHRsZS1kZWJvdW5jZS5taW4uanMgKDAuN2tiKVxuLy9cbi8vIEFib3V0OiBMaWNlbnNlXG4vL1xuLy8gQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuLFxuLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4vLyBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4vL1xuLy8gQWJvdXQ6IEV4YW1wbGVzXG4vL1xuLy8gVGhlc2Ugd29ya2luZyBleGFtcGxlcywgY29tcGxldGUgd2l0aCBmdWxseSBjb21tZW50ZWQgY29kZSwgaWxsdXN0cmF0ZSBhIGZld1xuLy8gd2F5cyBpbiB3aGljaCB0aGlzIHBsdWdpbiBjYW4gYmUgdXNlZC5cbi8vXG4vLyBUaHJvdHRsZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvZXhhbXBsZXMvdGhyb3R0bGUvXG4vLyBEZWJvdW5jZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvZXhhbXBsZXMvZGVib3VuY2UvXG4vL1xuLy8gQWJvdXQ6IFN1cHBvcnQgYW5kIFRlc3Rpbmdcbi8vXG4vLyBJbmZvcm1hdGlvbiBhYm91dCB3aGF0IHZlcnNpb24gb3IgdmVyc2lvbnMgb2YgalF1ZXJ5IHRoaXMgcGx1Z2luIGhhcyBiZWVuXG4vLyB0ZXN0ZWQgd2l0aCwgd2hhdCBicm93c2VycyBpdCBoYXMgYmVlbiB0ZXN0ZWQgaW4sIGFuZCB3aGVyZSB0aGUgdW5pdCB0ZXN0c1xuLy8gcmVzaWRlIChzbyB5b3UgY2FuIHRlc3QgaXQgeW91cnNlbGYpLlxuLy9cbi8vIGpRdWVyeSBWZXJzaW9ucyAtIG5vbmUsIDEuMy4yLCAxLjQuMlxuLy8gQnJvd3NlcnMgVGVzdGVkIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi04LCBGaXJlZm94IDItMy42LCBTYWZhcmkgMy00LCBDaHJvbWUgNC01LCBPcGVyYSA5LjYtMTAuMS5cbi8vIFVuaXQgVGVzdHMgICAgICAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvdW5pdC9cbi8vXG4vLyBBYm91dDogUmVsZWFzZSBIaXN0b3J5XG4vL1xuLy8gMS4xIC0gKDMvNy8yMDEwKSBGaXhlZCBhIGJ1ZyBpbiA8alF1ZXJ5LnRocm90dGxlPiB3aGVyZSB0cmFpbGluZyBjYWxsYmFja3Ncbi8vICAgICAgIGV4ZWN1dGVkIGxhdGVyIHRoYW4gdGhleSBzaG91bGQuIFJld29ya2VkIGEgZmFpciBhbW91bnQgb2YgaW50ZXJuYWxcbi8vICAgICAgIGxvZ2ljIGFzIHdlbGwuXG4vLyAxLjAgLSAoMy82LzIwMTApIEluaXRpYWwgcmVsZWFzZSBhcyBhIHN0YW5kLWFsb25lIHByb2plY3QuIE1pZ3JhdGVkIG92ZXJcbi8vICAgICAgIGZyb20ganF1ZXJ5LW1pc2MgcmVwbyB2MC40IHRvIGpxdWVyeS10aHJvdHRsZSByZXBvIHYxLjAsIGFkZGVkIHRoZVxuLy8gICAgICAgbm9fdHJhaWxpbmcgdGhyb3R0bGUgcGFyYW1ldGVyIGFuZCBkZWJvdW5jZSBmdW5jdGlvbmFsaXR5LlxuLy9cbi8vIFRvcGljOiBOb3RlIGZvciBub24talF1ZXJ5IHVzZXJzXG4vL1xuLy8galF1ZXJ5IGlzbid0IGFjdHVhbGx5IHJlcXVpcmVkIGZvciB0aGlzIHBsdWdpbiwgYmVjYXVzZSBub3RoaW5nIGludGVybmFsXG4vLyB1c2VzIGFueSBqUXVlcnkgbWV0aG9kcyBvciBwcm9wZXJ0aWVzLiBqUXVlcnkgaXMganVzdCB1c2VkIGFzIGEgbmFtZXNwYWNlXG4vLyB1bmRlciB3aGljaCB0aGVzZSBtZXRob2RzIGNhbiBleGlzdC5cbi8vXG4vLyBTaW5jZSBqUXVlcnkgaXNuJ3QgYWN0dWFsbHkgcmVxdWlyZWQgZm9yIHRoaXMgcGx1Z2luLCBpZiBqUXVlcnkgZG9lc24ndCBleGlzdFxuLy8gd2hlbiB0aGlzIHBsdWdpbiBpcyBsb2FkZWQsIHRoZSBtZXRob2QgZGVzY3JpYmVkIGJlbG93IHdpbGwgYmUgY3JlYXRlZCBpblxuLy8gdGhlIGBDb3dib3lgIG5hbWVzcGFjZS4gVXNhZ2Ugd2lsbCBiZSBleGFjdGx5IHRoZSBzYW1lLCBidXQgaW5zdGVhZCBvZlxuLy8gJC5tZXRob2QoKSBvciBqUXVlcnkubWV0aG9kKCksIHlvdSdsbCBuZWVkIHRvIHVzZSBDb3dib3kubWV0aG9kKCkuXG5cbihmdW5jdGlvbih3aW5kb3csdW5kZWZpbmVkKXtcblx0JyQ6bm9tdW5nZSc7IC8vIFVzZWQgYnkgWVVJIGNvbXByZXNzb3IuXG5cblx0Ly8gU2luY2UgalF1ZXJ5IHJlYWxseSBpc24ndCByZXF1aXJlZCBmb3IgdGhpcyBwbHVnaW4sIHVzZSBgalF1ZXJ5YCBhcyB0aGVcblx0Ly8gbmFtZXNwYWNlIG9ubHkgaWYgaXQgYWxyZWFkeSBleGlzdHMsIG90aGVyd2lzZSB1c2UgdGhlIGBDb3dib3lgIG5hbWVzcGFjZSxcblx0Ly8gY3JlYXRpbmcgaXQgaWYgbmVjZXNzYXJ5LlxuXHR2YXIgJCA9IHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LkNvd2JveSB8fCAoIHdpbmRvdy5Db3dib3kgPSB7fSApLFxuXG5cdFx0Ly8gSW50ZXJuYWwgbWV0aG9kIHJlZmVyZW5jZS5cblx0XHRqcV90aHJvdHRsZTtcblxuXHQvLyBNZXRob2Q6IGpRdWVyeS50aHJvdHRsZVxuXHQvL1xuXHQvLyBUaHJvdHRsZSBleGVjdXRpb24gb2YgYSBmdW5jdGlvbi4gRXNwZWNpYWxseSB1c2VmdWwgZm9yIHJhdGUgbGltaXRpbmdcblx0Ly8gZXhlY3V0aW9uIG9mIGhhbmRsZXJzIG9uIGV2ZW50cyBsaWtlIHJlc2l6ZSBhbmQgc2Nyb2xsLiBJZiB5b3Ugd2FudCB0b1xuXHQvLyByYXRlLWxpbWl0IGV4ZWN1dGlvbiBvZiBhIGZ1bmN0aW9uIHRvIGEgc2luZ2xlIHRpbWUsIHNlZSB0aGVcblx0Ly8gPGpRdWVyeS5kZWJvdW5jZT4gbWV0aG9kLlxuXHQvL1xuXHQvLyBJbiB0aGlzIHZpc3VhbGl6YXRpb24sIHwgaXMgYSB0aHJvdHRsZWQtZnVuY3Rpb24gY2FsbCBhbmQgWCBpcyB0aGUgYWN0dWFsXG5cdC8vIGNhbGxiYWNrIGV4ZWN1dGlvbjpcblx0Ly9cblx0Ly8gPiBUaHJvdHRsZWQgd2l0aCBgbm9fdHJhaWxpbmdgIHNwZWNpZmllZCBhcyBmYWxzZSBvciB1bnNwZWNpZmllZDpcblx0Ly8gPiB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8IChwYXVzZSkgfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fFxuXHQvLyA+IFggICAgWCAgICBYICAgIFggICAgWCAgICBYICAgICAgICBYICAgIFggICAgWCAgICBYICAgIFggICAgWFxuXHQvLyA+XG5cdC8vID4gVGhyb3R0bGVkIHdpdGggYG5vX3RyYWlsaW5nYCBzcGVjaWZpZWQgYXMgdHJ1ZTpcblx0Ly8gPiB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8IChwYXVzZSkgfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fFxuXHQvLyA+IFggICAgWCAgICBYICAgIFggICAgWCAgICAgICAgICAgICBYICAgIFggICAgWCAgICBYICAgIFhcblx0Ly9cblx0Ly8gVXNhZ2U6XG5cdC8vXG5cdC8vID4gdmFyIHRocm90dGxlZCA9IGpRdWVyeS50aHJvdHRsZSggZGVsYXksIFsgbm9fdHJhaWxpbmcsIF0gY2FsbGJhY2sgKTtcblx0Ly8gPlxuXHQvLyA+IGpRdWVyeSgnc2VsZWN0b3InKS5iaW5kKCAnc29tZWV2ZW50JywgdGhyb3R0bGVkICk7XG5cdC8vID4galF1ZXJ5KCdzZWxlY3RvcicpLnVuYmluZCggJ3NvbWVldmVudCcsIHRocm90dGxlZCApO1xuXHQvL1xuXHQvLyBUaGlzIGFsc28gd29ya3MgaW4galF1ZXJ5IDEuNCs6XG5cdC8vXG5cdC8vID4galF1ZXJ5KCdzZWxlY3RvcicpLmJpbmQoICdzb21lZXZlbnQnLCBqUXVlcnkudGhyb3R0bGUoIGRlbGF5LCBbIG5vX3RyYWlsaW5nLCBdIGNhbGxiYWNrICkgKTtcblx0Ly8gPiBqUXVlcnkoJ3NlbGVjdG9yJykudW5iaW5kKCAnc29tZWV2ZW50JywgY2FsbGJhY2sgKTtcblx0Ly9cblx0Ly8gQXJndW1lbnRzOlxuXHQvL1xuXHQvLyAgZGVsYXkgLSAoTnVtYmVyKSBBIHplcm8tb3ItZ3JlYXRlciBkZWxheSBpbiBtaWxsaXNlY29uZHMuIEZvciBldmVudFxuXHQvLyAgICBjYWxsYmFja3MsIHZhbHVlcyBhcm91bmQgMTAwIG9yIDI1MCAob3IgZXZlbiBoaWdoZXIpIGFyZSBtb3N0IHVzZWZ1bC5cblx0Ly8gIG5vX3RyYWlsaW5nIC0gKEJvb2xlYW4pIE9wdGlvbmFsLCBkZWZhdWx0cyB0byBmYWxzZS4gSWYgbm9fdHJhaWxpbmcgaXNcblx0Ly8gICAgdHJ1ZSwgY2FsbGJhY2sgd2lsbCBvbmx5IGV4ZWN1dGUgZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMgd2hpbGUgdGhlXG5cdC8vICAgIHRocm90dGxlZC1mdW5jdGlvbiBpcyBiZWluZyBjYWxsZWQuIElmIG5vX3RyYWlsaW5nIGlzIGZhbHNlIG9yXG5cdC8vICAgIHVuc3BlY2lmaWVkLCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIG9uZSBmaW5hbCB0aW1lIGFmdGVyIHRoZSBsYXN0XG5cdC8vICAgIHRocm90dGxlZC1mdW5jdGlvbiBjYWxsLiAoQWZ0ZXIgdGhlIHRocm90dGxlZC1mdW5jdGlvbiBoYXMgbm90IGJlZW5cblx0Ly8gICAgY2FsbGVkIGZvciBgZGVsYXlgIG1pbGxpc2Vjb25kcywgdGhlIGludGVybmFsIGNvdW50ZXIgaXMgcmVzZXQpXG5cdC8vICBjYWxsYmFjayAtIChGdW5jdGlvbikgQSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBhZnRlciBkZWxheSBtaWxsaXNlY29uZHMuXG5cdC8vICAgIFRoZSBgdGhpc2AgY29udGV4dCBhbmQgYWxsIGFyZ3VtZW50cyBhcmUgcGFzc2VkIHRocm91Z2gsIGFzLWlzLCB0b1xuXHQvLyAgICBgY2FsbGJhY2tgIHdoZW4gdGhlIHRocm90dGxlZC1mdW5jdGlvbiBpcyBleGVjdXRlZC5cblx0Ly9cblx0Ly8gUmV0dXJuczpcblx0Ly9cblx0Ly8gIChGdW5jdGlvbikgQSBuZXcsIHRocm90dGxlZCwgZnVuY3Rpb24uXG5cblx0JC50aHJvdHRsZSA9IGpxX3Rocm90dGxlID0gZnVuY3Rpb24oIGRlbGF5LCBub190cmFpbGluZywgY2FsbGJhY2ssIGRlYm91bmNlX21vZGUgKSB7XG5cdFx0Ly8gQWZ0ZXIgd3JhcHBlciBoYXMgc3RvcHBlZCBiZWluZyBjYWxsZWQsIHRoaXMgdGltZW91dCBlbnN1cmVzIHRoYXRcblx0XHQvLyBgY2FsbGJhY2tgIGlzIGV4ZWN1dGVkIGF0IHRoZSBwcm9wZXIgdGltZXMgaW4gYHRocm90dGxlYCBhbmQgYGVuZGBcblx0XHQvLyBkZWJvdW5jZSBtb2Rlcy5cblx0XHR2YXIgdGltZW91dF9pZCxcblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB0aGUgbGFzdCB0aW1lIGBjYWxsYmFja2Agd2FzIGV4ZWN1dGVkLlxuXHRcdFx0bGFzdF9leGVjID0gMDtcblxuXHRcdC8vIGBub190cmFpbGluZ2AgZGVmYXVsdHMgdG8gZmFsc3kuXG5cdFx0aWYgKCB0eXBlb2Ygbm9fdHJhaWxpbmcgIT09ICdib29sZWFuJyApIHtcblx0XHRcdGRlYm91bmNlX21vZGUgPSBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gbm9fdHJhaWxpbmc7XG5cdFx0XHRub190cmFpbGluZyA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgYHdyYXBwZXJgIGZ1bmN0aW9uIGVuY2Fwc3VsYXRlcyBhbGwgb2YgdGhlIHRocm90dGxpbmcgLyBkZWJvdW5jaW5nXG5cdFx0Ly8gZnVuY3Rpb25hbGl0eSBhbmQgd2hlbiBleGVjdXRlZCB3aWxsIGxpbWl0IHRoZSByYXRlIGF0IHdoaWNoIGBjYWxsYmFja2Bcblx0XHQvLyBpcyBleGVjdXRlZC5cblx0XHRmdW5jdGlvbiB3cmFwcGVyKCkge1xuXHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRlbGFwc2VkID0gK25ldyBEYXRlKCkgLSBsYXN0X2V4ZWMsXG5cdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHM7XG5cblx0XHRcdC8vIEV4ZWN1dGUgYGNhbGxiYWNrYCBhbmQgdXBkYXRlIHRoZSBgbGFzdF9leGVjYCB0aW1lc3RhbXAuXG5cdFx0XHRmdW5jdGlvbiBleGVjKCkge1xuXHRcdFx0XHRsYXN0X2V4ZWMgPSArbmV3IERhdGUoKTtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdH07XG5cblx0XHRcdC8vIElmIGBkZWJvdW5jZV9tb2RlYCBpcyB0cnVlIChhdF9iZWdpbikgdGhpcyBpcyB1c2VkIHRvIGNsZWFyIHRoZSBmbGFnXG5cdFx0XHQvLyB0byBhbGxvdyBmdXR1cmUgYGNhbGxiYWNrYCBleGVjdXRpb25zLlxuXHRcdFx0ZnVuY3Rpb24gY2xlYXIoKSB7XG5cdFx0XHRcdHRpbWVvdXRfaWQgPSB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoIGRlYm91bmNlX21vZGUgJiYgIXRpbWVvdXRfaWQgKSB7XG5cdFx0XHRcdC8vIFNpbmNlIGB3cmFwcGVyYCBpcyBiZWluZyBjYWxsZWQgZm9yIHRoZSBmaXJzdCB0aW1lIGFuZFxuXHRcdFx0XHQvLyBgZGVib3VuY2VfbW9kZWAgaXMgdHJ1ZSAoYXRfYmVnaW4pLCBleGVjdXRlIGBjYWxsYmFja2AuXG5cdFx0XHRcdGV4ZWMoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXQuXG5cdFx0XHR0aW1lb3V0X2lkICYmIGNsZWFyVGltZW91dCggdGltZW91dF9pZCApO1xuXG5cdFx0XHRpZiAoIGRlYm91bmNlX21vZGUgPT09IHVuZGVmaW5lZCAmJiBlbGFwc2VkID4gZGVsYXkgKSB7XG5cdFx0XHRcdC8vIEluIHRocm90dGxlIG1vZGUsIGlmIGBkZWxheWAgdGltZSBoYXMgYmVlbiBleGNlZWRlZCwgZXhlY3V0ZVxuXHRcdFx0XHQvLyBgY2FsbGJhY2tgLlxuXHRcdFx0XHRleGVjKCk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIG5vX3RyYWlsaW5nICE9PSB0cnVlICkge1xuXHRcdFx0XHQvLyBJbiB0cmFpbGluZyB0aHJvdHRsZSBtb2RlLCBzaW5jZSBgZGVsYXlgIHRpbWUgaGFzIG5vdCBiZWVuXG5cdFx0XHRcdC8vIGV4Y2VlZGVkLCBzY2hlZHVsZSBgY2FsbGJhY2tgIHRvIGV4ZWN1dGUgYGRlbGF5YCBtcyBhZnRlciBtb3N0XG5cdFx0XHRcdC8vIHJlY2VudCBleGVjdXRpb24uXG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIElmIGBkZWJvdW5jZV9tb2RlYCBpcyB0cnVlIChhdF9iZWdpbiksIHNjaGVkdWxlIGBjbGVhcmAgdG8gZXhlY3V0ZVxuXHRcdFx0XHQvLyBhZnRlciBgZGVsYXlgIG1zLlxuXHRcdFx0XHQvL1xuXHRcdFx0XHQvLyBJZiBgZGVib3VuY2VfbW9kZWAgaXMgZmFsc2UgKGF0IGVuZCksIHNjaGVkdWxlIGBjYWxsYmFja2AgdG9cblx0XHRcdFx0Ly8gZXhlY3V0ZSBhZnRlciBgZGVsYXlgIG1zLlxuXHRcdFx0XHR0aW1lb3V0X2lkID0gc2V0VGltZW91dCggZGVib3VuY2VfbW9kZSA/IGNsZWFyIDogZXhlYywgZGVib3VuY2VfbW9kZSA9PT0gdW5kZWZpbmVkID8gZGVsYXkgLSBlbGFwc2VkIDogZGVsYXkgKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gU2V0IHRoZSBndWlkIG9mIGB3cmFwcGVyYCBmdW5jdGlvbiB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBjYWxsYmFjaywgc29cblx0XHQvLyBpdCBjYW4gYmUgcmVtb3ZlZCBpbiBqUXVlcnkgMS40KyAudW5iaW5kIG9yIC5kaWUgYnkgdXNpbmcgdGhlIG9yaWdpbmFsXG5cdFx0Ly8gY2FsbGJhY2sgYXMgYSByZWZlcmVuY2UuXG5cdFx0aWYgKCAkLmd1aWQgKSB7XG5cdFx0XHR3cmFwcGVyLmd1aWQgPSBjYWxsYmFjay5ndWlkID0gY2FsbGJhY2suZ3VpZCB8fCAkLmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gdGhlIHdyYXBwZXIgZnVuY3Rpb24uXG5cdFx0cmV0dXJuIHdyYXBwZXI7XG5cdH07XG5cblx0Ly8gTWV0aG9kOiBqUXVlcnkuZGVib3VuY2Vcblx0Ly9cblx0Ly8gRGVib3VuY2UgZXhlY3V0aW9uIG9mIGEgZnVuY3Rpb24uIERlYm91bmNpbmcsIHVubGlrZSB0aHJvdHRsaW5nLFxuXHQvLyBndWFyYW50ZWVzIHRoYXQgYSBmdW5jdGlvbiBpcyBvbmx5IGV4ZWN1dGVkIGEgc2luZ2xlIHRpbWUsIGVpdGhlciBhdCB0aGVcblx0Ly8gdmVyeSBiZWdpbm5pbmcgb2YgYSBzZXJpZXMgb2YgY2FsbHMsIG9yIGF0IHRoZSB2ZXJ5IGVuZC4gSWYgeW91IHdhbnQgdG9cblx0Ly8gc2ltcGx5IHJhdGUtbGltaXQgZXhlY3V0aW9uIG9mIGEgZnVuY3Rpb24sIHNlZSB0aGUgPGpRdWVyeS50aHJvdHRsZT5cblx0Ly8gbWV0aG9kLlxuXHQvL1xuXHQvLyBJbiB0aGlzIHZpc3VhbGl6YXRpb24sIHwgaXMgYSBkZWJvdW5jZWQtZnVuY3Rpb24gY2FsbCBhbmQgWCBpcyB0aGUgYWN0dWFsXG5cdC8vIGNhbGxiYWNrIGV4ZWN1dGlvbjpcblx0Ly9cblx0Ly8gPiBEZWJvdW5jZWQgd2l0aCBgYXRfYmVnaW5gIHNwZWNpZmllZCBhcyBmYWxzZSBvciB1bnNwZWNpZmllZDpcblx0Ly8gPiB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8IChwYXVzZSkgfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fFxuXHQvLyA+ICAgICAgICAgICAgICAgICAgICAgICAgICBYICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWFxuXHQvLyA+XG5cdC8vID4gRGVib3VuY2VkIHdpdGggYGF0X2JlZ2luYCBzcGVjaWZpZWQgYXMgdHJ1ZTpcblx0Ly8gPiB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8IChwYXVzZSkgfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fFxuXHQvLyA+IFggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYXG5cdC8vXG5cdC8vIFVzYWdlOlxuXHQvL1xuXHQvLyA+IHZhciBkZWJvdW5jZWQgPSBqUXVlcnkuZGVib3VuY2UoIGRlbGF5LCBbIGF0X2JlZ2luLCBdIGNhbGxiYWNrICk7XG5cdC8vID5cblx0Ly8gPiBqUXVlcnkoJ3NlbGVjdG9yJykuYmluZCggJ3NvbWVldmVudCcsIGRlYm91bmNlZCApO1xuXHQvLyA+IGpRdWVyeSgnc2VsZWN0b3InKS51bmJpbmQoICdzb21lZXZlbnQnLCBkZWJvdW5jZWQgKTtcblx0Ly9cblx0Ly8gVGhpcyBhbHNvIHdvcmtzIGluIGpRdWVyeSAxLjQrOlxuXHQvL1xuXHQvLyA+IGpRdWVyeSgnc2VsZWN0b3InKS5iaW5kKCAnc29tZWV2ZW50JywgalF1ZXJ5LmRlYm91bmNlKCBkZWxheSwgWyBhdF9iZWdpbiwgXSBjYWxsYmFjayApICk7XG5cdC8vID4galF1ZXJ5KCdzZWxlY3RvcicpLnVuYmluZCggJ3NvbWVldmVudCcsIGNhbGxiYWNrICk7XG5cdC8vXG5cdC8vIEFyZ3VtZW50czpcblx0Ly9cblx0Ly8gIGRlbGF5IC0gKE51bWJlcikgQSB6ZXJvLW9yLWdyZWF0ZXIgZGVsYXkgaW4gbWlsbGlzZWNvbmRzLiBGb3IgZXZlbnRcblx0Ly8gICAgY2FsbGJhY2tzLCB2YWx1ZXMgYXJvdW5kIDEwMCBvciAyNTAgKG9yIGV2ZW4gaGlnaGVyKSBhcmUgbW9zdCB1c2VmdWwuXG5cdC8vICBhdF9iZWdpbiAtIChCb29sZWFuKSBPcHRpb25hbCwgZGVmYXVsdHMgdG8gZmFsc2UuIElmIGF0X2JlZ2luIGlzIGZhbHNlIG9yXG5cdC8vICAgIHVuc3BlY2lmaWVkLCBjYWxsYmFjayB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgYGRlbGF5YCBtaWxsaXNlY29uZHMgYWZ0ZXJcblx0Ly8gICAgdGhlIGxhc3QgZGVib3VuY2VkLWZ1bmN0aW9uIGNhbGwuIElmIGF0X2JlZ2luIGlzIHRydWUsIGNhbGxiYWNrIHdpbGwgYmVcblx0Ly8gICAgZXhlY3V0ZWQgb25seSBhdCB0aGUgZmlyc3QgZGVib3VuY2VkLWZ1bmN0aW9uIGNhbGwuIChBZnRlciB0aGVcblx0Ly8gICAgdGhyb3R0bGVkLWZ1bmN0aW9uIGhhcyBub3QgYmVlbiBjYWxsZWQgZm9yIGBkZWxheWAgbWlsbGlzZWNvbmRzLCB0aGVcblx0Ly8gICAgaW50ZXJuYWwgY291bnRlciBpcyByZXNldClcblx0Ly8gIGNhbGxiYWNrIC0gKEZ1bmN0aW9uKSBBIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGRlbGF5IG1pbGxpc2Vjb25kcy5cblx0Ly8gICAgVGhlIGB0aGlzYCBjb250ZXh0IGFuZCBhbGwgYXJndW1lbnRzIGFyZSBwYXNzZWQgdGhyb3VnaCwgYXMtaXMsIHRvXG5cdC8vICAgIGBjYWxsYmFja2Agd2hlbiB0aGUgZGVib3VuY2VkLWZ1bmN0aW9uIGlzIGV4ZWN1dGVkLlxuXHQvL1xuXHQvLyBSZXR1cm5zOlxuXHQvL1xuXHQvLyAgKEZ1bmN0aW9uKSBBIG5ldywgZGVib3VuY2VkLCBmdW5jdGlvbi5cblxuXHQkLmRlYm91bmNlID0gZnVuY3Rpb24oIGRlbGF5LCBhdF9iZWdpbiwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGNhbGxiYWNrID09PSB1bmRlZmluZWRcblx0XHRcdD8ganFfdGhyb3R0bGUoIGRlbGF5LCBhdF9iZWdpbiwgZmFsc2UgKVxuXHRcdFx0OiBqcV90aHJvdHRsZSggZGVsYXksIGNhbGxiYWNrLCBhdF9iZWdpbiAhPT0gZmFsc2UgKTtcblx0fTtcblxufSkodGhpcyk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQvLyBGb3JtIHByb2Nlc3NpbmcgLy9cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0JCggJyNsaWNlbnNlLWZvcm0nICkub24oICdzdWJtaXQnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmxpY2Vuc2UuYWN0aW9uJywgJCh0aGlzKSApO1xuXG5cdH0gKTtcblxuXHQvLy8vLy8vLy8vLy8vXG5cdC8vIEFjdGlvbnMgLy9cblx0Ly8vLy8vLy8vLy8vL1xuXG5cdC8vIGxpY2Vuc2UgYWN0aW9uXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5saWNlbnNlLmFjdGlvbicsICdicmFja2V0c3BhY2UvYWNtL2xpY2Vuc2UtYWN0aW9uJywgZnVuY3Rpb24oICRmb3JtICkge1xuXG5cdFx0dmFyICRidXR0b24gPSAkZm9ybS5maW5kKCAnLmJ1dHRvbi1zZWNvbmRhcnknICkuZmlyc3QoKTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0J2FjdGlvbicgIDogJ2FjbS9saWNlbnNlLycgKyAkYnV0dG9uLmRhdGEoICdhY3Rpb24nICksXG5cdFx0XHQnbGljZW5zZScgOiAkZm9ybS5maW5kKCAnLmxpY2Vuc2Uta2V5JyApLnZhbCgpLFxuXHRcdFx0J25vbmNlJyAgIDogJGJ1dHRvbi5kYXRhKCAnbm9uY2UnIClcblx0ICAgIH07XG5cblx0ICAgIHZhciBidXR0b25fbGFiZWwgPSAkYnV0dG9uLnZhbCgpO1xuXG5cdCAgICAkYnV0dG9uLnZhbCggYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyX3Byby5pMThuLnNhdmluZyApO1xuXHQgICAgJGJ1dHRvbi5hdHRyKCAnZGlzYWJsZWQnLCB0cnVlICk7XG5cblx0ICAgICQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdCAgICAgICAgYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLmFqYXhfbWVzc2FnZXMoIHJlc3BvbnNlICk7XG5cblx0ICAgICAgICBpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSApIHtcblxuXHQgICAgICAgIFx0aWYgKCAkYnV0dG9uLmRhdGEoICdhY3Rpb24nICkgPT0gJ2FjdGl2YXRlJyApIHtcblx0ICAgICAgICBcdFx0JGZvcm0ucGFyZW50KCkuZmluZCggJy5zdGF0dXMnICkucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcyggJ3N0YXR1cycgKS50ZXh0KCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uYWN0aXZhdGVkICk7XG5cdCAgICAgICAgXHRcdCRidXR0b24udmFsKCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uYWN0aXZhdGVkICk7XG5cdCAgICAgICAgXHR9IGVsc2Uge1xuXHQgICAgICAgIFx0XHQkZm9ybS5wYXJlbnQoKS5maW5kKCAnLnN0YXR1cycgKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCAnc3RhdHVzJyApLnRleHQoIGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uaTE4bi5kZWFjdGl2YXRlZCApO1xuXHQgICAgICAgIFx0XHQkYnV0dG9uLnZhbCggYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyX3Byby5pMThuLmRlYWN0aXZhdGVkICk7XG5cdCAgICAgICAgXHR9XG5cblx0ICAgICAgICBcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0ICAgICAgICBcdCAgICBsb2NhdGlvbi5yZWxvYWQoKTtcblx0ICAgICAgICBcdH0sIDIwMDApO1xuXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBcdCRidXR0b24udmFsKCBidXR0b25fbGFiZWwgKTtcblx0XHRcdCAgICAkYnV0dG9uLmF0dHIoICdkaXNhYmxlZCcsIGZhbHNlICk7XG5cdCAgICAgICAgfVxuXG5cdCAgICB9ICk7XG5cblx0fSApO1xuXG59ICkoIGpRdWVyeSApO1xuIiwiKCBmdW5jdGlvbiggJCApIHtcblxuXHQkKCAnLnRvb2xzX3BhZ2VfYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyJyApLm9uKCAnY2xpY2snLCAnLmxvYWQtbW9yZS1sb2dzJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkYnV0dG9uICAgID0gJCggdGhpcyApLFxuXHRcdFx0dG90YWwgICAgICA9ICRidXR0b24uZGF0YSggJ3RvdGFsJyApLFxuXHRcdFx0cGFnZSAgICAgICA9ICRidXR0b24uZGF0YSggJ3BhZ2UnICksXG5cdFx0XHRldmVudF9oYXNoID0gJGJ1dHRvbi5kYXRhKCAnZXZlbnQnICksXG5cdFx0XHQkY29udGFpbmVyID0gJGJ1dHRvbi5wcmV2KCk7XG5cblx0XHQkYnV0dG9uLmF0dHIoICdkaXNhYmxlZCcsIHRydWUgKTtcblx0XHR2YXIgb2xkX2xhYmVsID0gJGJ1dHRvbi50ZXh0KCk7XG5cdFx0JGJ1dHRvbi50ZXh0KCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4ubG9hZGluZyApO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogJ2FjbS9sb2dzL2xvYWRfbW9yZScsXG5cdFx0XHQnZXZlbnQnIDogZXZlbnRfaGFzaCxcblx0XHRcdCdwYWdlJyA6IHBhZ2UgKyAxXG5cdCAgICB9O1xuXG5cdCAgICAkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG5cdCAgICBcdFx0JGNvbnRhaW5lci5hcHBlbmQoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdGlmICggJGNvbnRhaW5lci5maW5kKCAnPiBsaScgKS5sZW5ndGggPj0gdG90YWwgKSB7XG5cdCAgICBcdFx0JGJ1dHRvbi5yZW1vdmUoKTtcblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHQkYnV0dG9uLmRhdGEoICdwYWdlJywgcGFnZSArIDEgKSxcblx0XHQgICAgICAgICRidXR0b24uYXR0ciggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0JGJ1dHRvbi50ZXh0KCBvbGRfbGFiZWwgKTtcblx0ICAgIFx0fVxuXG5cdCAgICB9ICk7XG5cblx0fSApO1xuXG59ICkoIGpRdWVyeSApO1xuIiwiKCBmdW5jdGlvbiggJCApIHtcblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0Ly8gRm9ybSBwcm9jZXNzaW5nIC8vXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdCQoICcjbG9nLXNldHRpbmdzLWZvcm0nICkub24oICdzdWJtaXQnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmxvZ3Muc2V0dGluZ3MuYWN0aW9uJywgJCh0aGlzKSApO1xuXG5cdH0gKTtcblxuXHQvLy8vLy8vLy8vLy8vXG5cdC8vIEFjdGlvbnMgLy9cblx0Ly8vLy8vLy8vLy8vL1xuXG5cdC8vIGxpY2Vuc2UgYWN0aW9uXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5sb2dzLnNldHRpbmdzLmFjdGlvbicsICdicmFja2V0c3BhY2UvYWNtL2xvZ3Mtc2V0dGluZ3MtYWN0aW9uJywgZnVuY3Rpb24oICRmb3JtICkge1xuXG5cdFx0dmFyICRidXR0b24gPSAkZm9ybS5maW5kKCAnLmJ1dHRvbi1zZWNvbmRhcnknICkuZmlyc3QoKTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0J2FjdGlvbicgOiAnYWNtL2xvZ3Mvc2V0dGluZ3Mvc2F2ZScsXG5cdFx0XHQnZGF0YScgICA6ICRmb3JtLnNlcmlhbGl6ZSgpLFxuXHRcdFx0J25vbmNlJyAgOiAkYnV0dG9uLmRhdGEoICdub25jZScgKVxuXHQgICAgfTtcblxuXHQgICAgdmFyIGJ1dHRvbl9sYWJlbCA9ICRidXR0b24udmFsKCk7XG5cblx0ICAgICRidXR0b24udmFsKCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uc2F2aW5nICk7XG5cdCAgICAkYnV0dG9uLmF0dHIoICdkaXNhYmxlZCcsIHRydWUgKTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0ICAgICAgICBhZHZhbmNlZF9jcm9uX21hbmFnZXIuYWpheF9tZXNzYWdlcyggcmVzcG9uc2UgKTtcblxuXHQgICAgICAgICRidXR0b24udmFsKCBidXR0b25fbGFiZWwgKTtcblx0XHQgICAgJGJ1dHRvbi5hdHRyKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXG5cdCAgICB9ICk7XG5cblx0fSApO1xuXG5cdC8vLy8vLy8vLy8vLy9cblx0Ly8gSGVscGVycyAvL1xuXHQvLy8vLy8vLy8vLy8vXG5cblx0JCggJyNsb2ctc2V0dGluZ3MtZm9ybScgKS5vbiggJ2NoYW5nZScsICcubWFzdGVyLXNldHRpbmcgaW5wdXQnLCBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggdGhpcy5jaGVja2VkICkge1xuXHRcdFx0JCggdGhpcyApLnBhcmVudCgpLm5leHRBbGwoICcuZGVwZW5kYW50cycgKS5zaG93KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoIHRoaXMgKS5wYXJlbnQoKS5uZXh0QWxsKCAnLmRlcGVuZGFudHMnICkuaGlkZSgpO1xuXHRcdH1cblxuXHR9ICk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5ldmVudC5leGVjdXRlZCcsICdicmFja2V0c3BhY2UvYWNtL2V2ZW50LWV4ZWN1dGVkJywgZnVuY3Rpb24oIGV2ZW50X2hhc2gsICRldmVudF9yb3cgKSB7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nOiAnYWNtL2xvZ3MvcmVmcmVzaCcsXG5cdFx0XHQnZXZlbnQnIDogZXZlbnRfaGFzaCxcblx0ICAgIH07XG5cblx0ICAgICQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdCAgICAgICAgaWYgKCByZXNwb25zZS5zdWNjZXNzID09IHRydWUgKSB7XG5cbiAgICAgICAgXHRcdHZhciAkYWNjb3JkaW9uID0gJGV2ZW50X3Jvdy5maW5kKCAnLmRldGFpbHMgLmNvbnRlbnQubG9ncyAubG9ncy1hY2NvcmRpb24nICk7XG5cbiAgICAgICAgXHRcdGlmICggJGFjY29yZGlvbi5sZW5ndGggKSB7XG4gICAgICAgIFx0XHRcdCRhY2NvcmRpb24ucmVwbGFjZVdpdGgoIHJlc3BvbnNlLmRhdGEgKTtcbiAgICAgICAgXHRcdH0gZWxzZSB7XG4gICAgICAgIFx0XHRcdCRldmVudF9yb3cuZmluZCggJy5kZXRhaWxzIC5jb250ZW50LmxvZ3MnICkuaHRtbCggcmVzcG9uc2UuZGF0YSApO1xuICAgICAgICBcdFx0fVxuXG5cdCAgICAgICAgfVxuXG5cdCAgICB9ICk7XG5cblx0fSApO1xuXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5ldmVudC5leGVjdXRlZCcsICdicmFja2V0c3BhY2UvYWNtL2V2ZW50LWV4ZWN1dGVkJywgZnVuY3Rpb24oIGV2ZW50X2hhc2gsICRldmVudF9yb3cgKSB7XG5cblx0XHR2YXIgJGxvZ3Nfc2VjdGlvbiA9ICQoICcjbG9ncy1zZWN0aW9uJyApXG5cblx0XHQvLyBjaGVjayBpZiBnZW5lcmFsIHNlY3Rpb24gaXMgZGlzcGxheWVkXG5cdFx0aWYgKCAkbG9nc19zZWN0aW9uLmxlbmd0aCA9PSAwICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0J2FjdGlvbic6ICdhY20vbG9ncy9yZWZyZXNoJyxcblx0XHRcdCdldmVudCcgOiBudWxsXG5cdCAgICB9O1xuXG5cdCAgICAkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHQgICAgICAgIGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSB0cnVlICkge1xuXHQgICAgICAgIFx0JGxvZ3Nfc2VjdGlvbi5maW5kKCAnLnRpbGUtY29udGVudCcgKS5odG1sKCByZXNwb25zZS5kYXRhICk7XG5cdCAgICAgICAgfVxuXG5cdCAgICB9ICk7XG5cblx0fSApO1xuXG59ICkoIGpRdWVyeSApO1xuIiwiKCBmdW5jdGlvbiggJCApIHtcblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vXG5cdC8vIEZvcm0gcmVxdWVzdHMgLy9cblx0Ly8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdCQoICcudG9vbHNfcGFnZV9hZHZhbmNlZC1jcm9uLW1hbmFnZXInICkub24oICdjbGljaycsICcuZXZlbnQgLnJlc2NoZWR1bGUtZXZlbnQnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmV2ZW50LnJlc2NoZWR1bGUnLCAkKHRoaXMpICk7XG5cblx0fSApO1xuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQvLyBGb3JtIHByb2Nlc3NpbmcgLy9cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0JCggJy5zbGlkZWJhcicgKS5vbiggJ3N1Ym1pdCcsICcuZXZlbnQtcmVzY2hlZHVsZScsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d3AuaG9va3MuZG9BY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIuZXZlbnQucmVzY2hlZHVsZS5wcm9jZXNzJywgJCh0aGlzKSApO1xuXG5cdH0gKTtcblxuXHQvLy8vLy8vLy8vLy8vXG5cdC8vIEFjdGlvbnMgLy9cblx0Ly8vLy8vLy8vLy8vL1xuXG5cdC8vIGZvcm0gcmVxdWVzdFxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIuZXZlbnQucmVzY2hlZHVsZScsICdicmFja2V0c3BhY2UvYWNtL2V2ZW50LXJlc2NoZWR1bGUnLCBmdW5jdGlvbiggJGJ1dHRvbiApIHtcblxuXHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zbGlkZWJhci5vcGVuKCk7XG5cdFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLndhaXQoKTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHQgICAgICAgICdhY3Rpb24nICAgIDogJ2FjbS9ldmVudC9yZXNjaGVkdWxlL2Zvcm0nLFxuXHQgICAgICAgICdub25jZScgICAgIDogJGJ1dHRvbi5kYXRhKCAnbm9uY2UnICksXG5cdCAgICAgICAgJ2V2ZW50X2hhc2gnOiAkYnV0dG9uLmRhdGEoICdldmVudCcgKVxuXHQgICAgfTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdCAgICAgICAgYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLmZ1bGZpbGwoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgIH0gKTtcblxuXHR9ICk7XG5cblx0Ly8gcmVzY2hlZHVsaW5nIHByb2Nlc3Ncblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmV2ZW50LnJlc2NoZWR1bGUucHJvY2VzcycsICdicmFja2V0c3BhY2UvYWNtL2V2ZW50LXJlc2NoZWR1bGUtcHJvY2VzcycsIGZ1bmN0aW9uKCAkZm9ybSApIHtcblxuXHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zbGlkZWJhci5mb3JtX3Byb2Nlc3Nfc3RhcnQoKTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHQgICAgICAgICdhY3Rpb24nOiAnYWNtL2V2ZW50L3Jlc2NoZWR1bGUnLFxuXHQgICAgICAgICdub25jZScgOiAkZm9ybS5maW5kKCAnI25vbmNlJyApLnZhbCgpLFxuXHQgICAgICAgICdkYXRhJyAgOiAkZm9ybS5zZXJpYWxpemUoKVxuXHQgICAgfTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0ICAgIFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLmFqYXhfbWVzc2FnZXMoIHJlc3BvbnNlICk7XG5cblx0ICAgICAgICBpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSApIHtcblx0ICAgICAgICBcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmV2ZW50LnJlc2NoZWR1bGVkJywgJGZvcm0uZmluZCggJyNldmVudC1ob29rJyApLnZhbCgpICk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zbGlkZWJhci5mb3JtX3Byb2Nlc3Nfc3RvcCgpO1xuXHQgICAgICAgIH1cblxuXHQgICAgfSApO1xuXG5cdH0gKTtcblxuXHQvLyByZWZyZXNoIHRhYmxlIGFuZCBjbG9zZSBzbGlkZWJhclxuXHR2YXIgZXZlbnRzX3RhYmxlX3JlcmVuZGVyID0gZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnI2V2ZW50cycgKS5hZGRDbGFzcyggJ2xvYWRpbmcnICk7XG5cblx0ICAgICQucG9zdCggYWpheHVybCwgeyAnYWN0aW9uJzogJ2FjbS9yZXJlbmRlci9ldmVudHMnIH0sIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0ICAgIFx0JCggJyNldmVudHMnICkucmVwbGFjZVdpdGgoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgIFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLmZvcm1fcHJvY2Vzc19zdG9wKCk7XG5cdFx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIuY2xvc2UoKTtcblx0ICAgIH0gKTtcblxuXHR9O1xuXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5ldmVudC5yZXNjaGVkdWxlZCcsICdicmFja2V0c3BhY2UvYWNtL2V2ZW50LXJlc2NoZWR1bGVkJywgZXZlbnRzX3RhYmxlX3JlcmVuZGVyICk7XG5cblx0Ly8vLy8vLy8vLy8vL1xuXHQvLyBIZWxwZXJzIC8vXG5cdC8vLy8vLy8vLy8vLy9cblxuXHQvLyBhZGQgdXNlciB0aW1lem9uZSBvZmZzZXRcblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmV2ZW50LnJlc2NoZWR1bGUucHJvY2VzcycsICdicmFja2V0c3BhY2UvYWNtL2V2ZW50LXJlc2NoZWR1bGUtcHJvY2VzcycsIGZ1bmN0aW9uKCAkZm9ybSApIHtcblx0XHQkZm9ybS5maW5kKCAnI2V2ZW50LW9mZnNldCcgKS52YWwoIG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDYwICk7XG5cdH0sIDUgKTtcblxufSApKCBqUXVlcnkgKTtcbiIsIiggZnVuY3Rpb24oICQgKSB7XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLnNsaWRlYmFyLmZ1bGZpbGxlZCcsICdicmFja2V0c3BhY2UvYWNtL3NjaGVkdWxlL2Z1bGZpbGxlZCcsIGZ1bmN0aW9uKCBzbGlkZWJhciApIHtcblx0XHQvLyBUYWJzXG5cdFx0JCgnI2FjbS1zY2hlZHVsZS1mb3JtLXRhYnMgYScpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgY29udGV4dCA9ICQodGhpcykuY2xvc2VzdCgnI2FjbS1zY2hlZHVsZS1mb3JtLXRhYnMnKS5wYXJlbnQoKTtcblxuXHRcdFx0JCgnI2FjbS1zY2hlZHVsZS1mb3JtLXRhYnMgYScsIGNvbnRleHQpLnJlbW92ZUNsYXNzKCduYXYtdGFiLWFjdGl2ZScpO1xuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnbmF2LXRhYi1hY3RpdmUnKTtcblxuXHRcdFx0JCgnLnNjaGVkdWxlLWZvcm0tdGFiJywgY29udGV4dCkuaGlkZSgpO1xuXHRcdFx0JCggJCh0aGlzKS5hdHRyKCdocmVmJyksIGNvbnRleHQgKS5zaG93KCk7XG5cdFx0fSk7XG5cblx0XHQvLyBTY2h5bnRheCBmaWVsZFxuXHRcdHZhciBlZGl0b3IgPSB3cC5jb2RlRWRpdG9yLmluaXRpYWxpemUoJCgnI3NjaGVkdWxlLXNjaHludGF4JyksIGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zY2h5bnRheF9lZGl0b3IpO1xuXG5cdFx0Ly8gU2NoeW50YXggZ2VuZXJhdG9yIHNob3dcblx0XHQkKCdhLmdlbmVyYXRlLXNoeW50YXgnKS5jbGljayhmdW5jdGlvbihldmVudCl7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0JCgnLnNjaHludGF4LWdlbmVyYXRvcicpLnNsaWRlRG93bigpO1xuXHRcdFx0JCh0aGlzKS5zbGlkZVVwKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBTY2h5bnRheCBnZW5lcmF0b3Jcblx0XHQkKCcuc2NoeW50YXgtZ2VuZXJhdG9yIGJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XG5cdFx0XHR2YXIgJHNwaW5uZXIgPSAkKCcuc2NoeW50YXgtZ2VuZXJhdG9yIC5zcGlubmVyJyk7XG5cblx0XHRcdCRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXHRcdFx0JHNwaW5uZXIuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0bGljZW5zZTogYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyX3Byby5saWNlbnNlX2tleSxcblx0XHRcdFx0ZG9tYWluOiBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmRvbWFpbixcblx0XHRcdFx0c2NoZWR1bGU6ICQoJyNzY2hlZHVsZS1zY2h5bnRheC1wcm9tcHQnKS52YWwoKVxuXHRcdFx0fTtcblxuXHRcdFx0JC5nZXQoICdodHRwczovL2FjbS1zY2hlZHVsZS5icmFja2V0c3BhY2Uud29ya2Vycy5kZXYvJywgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0XHRlZGl0b3IuY29kZW1pcnJvci5zZXRWYWx1ZShyZXNwb25zZSk7XG5cdFx0XHR9ICkuZmFpbCggZnVuY3Rpb24oIHhociApIHtcblx0XHRcdFx0c3dpdGNoKHhoci5zdGF0dXMpIHtcblx0XHRcdFx0XHRjYXNlIDQwMDpcblx0XHRcdFx0XHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5ub3RpZnkoIGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uaTE4bi5zY2h5bnRheC5zdGF0dXNfNDAwLCAnd2FybmluZycgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgNDAxOlxuXHRcdFx0XHRcdFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLm5vdGlmeSggYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyX3Byby5pMThuLnNjaHludGF4LnN0YXR1c180MDEsICd3YXJuaW5nJyApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSA0Mjk6XG5cdFx0XHRcdFx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIubm90aWZ5KCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uc2NoeW50YXguc3RhdHVzXzQyOSwgJ3dhcm5pbmcnICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLm5vdGlmeSggYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyX3Byby5pMThuLmVycm9yLCAnd2FybmluZycgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0JHNwaW5uZXIuY3NzKCAndmlzaWJpbGl0eScsICdoaWRkZW4nICk7XG5cdFx0XHR9ICk7XG5cdFx0fSk7XG5cblx0XHQvLyBOZXh0IG9jY3VyZW5jZXMgcHJldmlld1xuXHRcdC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50IHdoZW4gZWRpdGluZyB0aGUgc2NoZWR1bGVcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0ZWRpdG9yLmNvZGVtaXJyb3Iuc2V0VmFsdWUoIGVkaXRvci5jb2RlbWlycm9yLmdldFZhbHVlKCkgKTtcblx0XHR9LCAxMDApXG5cblx0XHRlZGl0b3IuY29kZW1pcnJvci5vbignY2hhbmdlJywgJC5kZWJvdW5jZSggMTAwMCwgZnVuY3Rpb24oZWRpdG9yLCBjb250ZW50KSB7XG5cdFx0XHR2YXIgJG5leHRfb2NjdXJlbmNlcyA9ICQoJy5zY2hlZHVsZS1uZXh0LW9jY3VyZW5jZXMnKTtcblx0XHRcdHZhciAkcmVzdWx0ID0gJCgnLnNjaGVkdWxlLW5leHQtb2NjdXJlbmNlcyAucmVzdWx0Jyk7XG5cdFx0XHR2YXIgJHNwaW5uZXIgPSAkKCcuc2NoZWR1bGUtbmV4dC1vY2N1cmVuY2VzIC5zcGlubmVyJyk7XG5cdFx0XHR2YXIgJGxpc3QgPSAkKCcuc2NoZWR1bGUtbmV4dC1vY2N1cmVuY2VzIC5vY2N1cmVuY2VzLWxpc3QnKTtcblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRsaWNlbnNlOiBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmxpY2Vuc2Vfa2V5LFxuXHRcdFx0XHRkb21haW46IGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uZG9tYWluLFxuXHRcdFx0XHRzY2hlZHVsZTogZWRpdG9yLmdldFZhbHVlKCksXG5cdFx0XHRcdG46IDEwXG5cdFx0XHR9O1xuXG5cdFx0XHQkbGlzdC50ZXh0KCcnKS5oaWRlKCk7XG5cdFx0XHQkbmV4dF9vY2N1cmVuY2VzLnNob3coKTtcblx0XHRcdCRzcGlubmVyLmNzcyggJ3Zpc2liaWxpdHknLCAndmlzaWJsZScgKTtcblxuXHRcdFx0JC5nZXQoICdodHRwczovL2FjbS1zY2h5bnRheC5icmFja2V0c3BhY2Uud29ya2Vycy5kZXYvJywgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0XHQkbGlzdC5zaG93KCk7XG5cdFx0XHRcdCRyZXN1bHQuaGlkZSgpO1xuXHRcdFx0XHQkKCcjc2NoZWR1bGUtYWRkLXNjaHludGF4LWJ1dHRvbicpLnByb3AoICdkaXNhYmxlZCcsIGZhbHNlICk7XG5cblx0XHRcdFx0dmFyIGZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHVuZGVmaW5lZCwge1xuXHRcdFx0XHRcdGRhdGVTdHlsZTogJ3Nob3J0Jyxcblx0XHRcdFx0XHR0aW1lU3R5bGU6ICdtZWRpdW0nLFxuXHRcdFx0XHRcdHRpbWVab25lOiAnVVRDJ1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQkLmVhY2gocmVzcG9uc2UsIGZ1bmN0aW9uKGkpIHtcblx0XHRcdFx0XHR2YXIgbGkgPSAkKCc8bGk+JykudGV4dChmb3JtYXR0ZXIuZm9ybWF0KG5ldyBEYXRlKHJlc3BvbnNlW2ldKSkpLmFwcGVuZFRvKCRsaXN0KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9ICkuZmFpbCggZnVuY3Rpb24oIHhociApIHtcblx0XHRcdFx0JCgnI3NjaGVkdWxlLWFkZC1zY2h5bnRheC1idXR0b24nKS5wcm9wKCAnZGlzYWJsZWQnLCB0cnVlICk7XG5cdFx0XHRcdHN3aXRjaCh4aHIuc3RhdHVzKSB7XG5cdFx0XHRcdFx0Y2FzZSA0MDA6XG5cdFx0XHRcdFx0XHQkcmVzdWx0LnRleHQoIGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uaTE4bi5zY2hlZHVsZS5zdGF0dXNfNDAwICkuc2hvdygpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSA0MDE6XG5cdFx0XHRcdFx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIubm90aWZ5KCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uc2NoZWR1bGUuc3RhdHVzXzQwMSwgJ3dhcm5pbmcnICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIDQyOTpcblx0XHRcdFx0XHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5ub3RpZnkoIGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uaTE4bi5zY2hlZHVsZS5zdGF0dXNfNDI5LCAnd2FybmluZycgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIubm90aWZ5KCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uZXJyb3IsICd3YXJuaW5nJyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JHNwaW5uZXIuY3NzKCAndmlzaWJpbGl0eScsICdoaWRkZW4nICk7XG5cdFx0XHR9ICk7XG5cdFx0fSApICk7XG5cblx0fSApO1xuXG59ICkoIGpRdWVyeSApO1xuIl19
